{% extends 'base.html' %}

{% block content %}
<section class="content">
  <h1>All Rats</h1>

  <div class="pagination">
    {% if page > 1 %}
    <a href="{{ url_for('all_rats', page=page-1) }}">← Prev</a>
    {% endif %}

    <span>Page {{ page }} of {{ total_pages }}</span>

    {% if page < total_pages %}
    <a href="{{ url_for('all_rats', page=page+1) }}">Next →</a>
    {% endif %}
  </div>

  <div class="rat-list">
    <ul>
      {% for rat in rats %}
      <li>
        <a href="/rat/{{ rat.rat_id }}" class="image_link">
        <div class="rat-icon">
          {% if rat.rat_image %}
          <img src="{{ url_for('static', filename=rat.rat_image) }}" alt="{{ rat.rat_name }}" width="150">
          {% endif %}
        </div>
        </a>

        <div class="rat-details">
          <h2>
            {% if rat.rat_name %}
            <a href="/rat/{{ rat.rat_id }}" class="capitalise">{{ rat.rat_name }}</a>
            {% else %}
            <a href="/rat/{{ rat.rat_id }}">Unnamed Rat</a>
            {% endif %}
          </h2>
          <p>
            Owned by
            {% if rat.owner_id %}
            <a href="{{ url_for('user_page', user_id=rat.owner_id) }}">
              {{ rat.owner_name }}
            </a>
            {% else %}
            nobody!
            {% endif %}
          </p>
          <p>Created by
            {% if rat.artist_id %}
            <a href="{{ url_for('user_page', user_id=rat.artist_id) }}">
              {{ rat.artist_name }}
            </a>
            {% else %}
            nobody!
            {% endif %}</p>
          <p>#{{ rat.rat_id }}</p>
        </div>
      </li>
      {% endfor %}
    </ul>
  </div>

  <div class="pagination">
    {% if page > 1 %}
    <a href="{{ url_for('all_rats', page=page-1) }}">← Prev</a>
    {% endif %}

    <span>Page {{ page }} of {{ total_pages }}</span>

    {% if page < total_pages %}
    <a href="{{ url_for('all_rats', page=page+1) }}">Next →</a>
    {% endif %}
  </div>

  <a href="/">← Back to Home</a>
</section>
{% endblock %}